<!-- src/views/Helpers/Models/User.ejs -->
<%
 /* Heliactyl User Model */
%>

<%
  let HeliactylUser = {
    HeliactylID: req.session.userinfo.id,
    Username: req.session.userinfo.username,
    Email: req.session.userinfo.email,
    Pterodactyl: {
        ID: req.session.pterodactyl.id,
        Username: req.session.pterodactyl.username,
        Email: req.session.pterodactyl.email,
        AdminState: req.session.pterodactyl.root_admin
    },
    Provider: {
        Avatar:req.session.userinfo.avatar
    }
  }
%>

<!-- Set cookie with HeliactylUser -->
<script>
    document.cookie = `HeliactylUser=${JSON.stringify('<%- HeliactylUser %>')}; path=/`; // EJS will fill it

    class HeliactylUser {
        constructor(user) {
            this.user = user;
        }

        PterodactylInfo() {
            return this.user.Pterodactyl;
        }

        HeliactylInfo() {
            return this.user;
        }
    }

    const HeliactylUser = new HeliactylUser('<%- HeliactylUser %>');
</script>